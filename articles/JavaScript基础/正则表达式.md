# 正则表达式

## 一个例子

如何用正则表达式进行cookie解析？

    var cookie = function(name) {
      // reg1: 错误答案。匹配所有key结尾是${name}的字段
      const reg1 = new RegExp(`${name}=([^;]+)`)

      // reg2: 正确。第一个括号是多余的捕获分组
      const reg2 = new RegExp(`(^|; )${name}=([^;]+)`)

      // reg3: 正确。用?:消除多余的捕获分组
      const reg3 = new RegExp(`(?:^|; )${name}=([^;]+)`)

      // reg4: 正确。用方括号代替圆括号中|或关系，避免圆括号捕获。另外用new RegExp时转义符需要两个（双重转义）
      const reg4 = new RegExp(`[\\^;]\\s*${name}=([^;]+)`)

      // reg5: 正确。^只有是首字节时才表示取反，换位置不需要转义
      const reg5 = new RegExp(`[;^]\\s*${name}=([^;]+)`)

      // reg6: 正确。零宽断言\b
      const reg6 = new RegExp(`\\b${name}=([^;]+)`)

      return decodeURIComponent((reg6.exec(document.cookie || []))[1])
    };


## 重复

| **项目** | **描述** |
| :--- | :--- |
| {n,m} | 匹配前一项至少n次，不超过m次 |
| {n,} | 匹配前一项至少n次， |
| {n} | 匹配前一项n次 |
| ? | 0或1次，{0,1} |
| + | 1或多次，{1,} |
| * | 0或多次，{0,} |

## 括号

| **项目** | **描述** |
| :--- | :--- |
| [...] | 方括号内任意字符 |
| \[^...] | 不在方括号内任意字符 |
| {} | 重复 |
| () | 组合；捕获子模式，如match等方法；引用子表达式，如\1 |

## 其他符号

| **项目** | **描述** |
| :--- | :--- |
| ?: | 取消捕获括号中的子模式 |
| ^ | 开始 |
| $ | 结束 |

## 方法

* String.prototype.search
* **String.prototype.match** 返回数组
* String.prototype.replace
* String.prototype.split
* **RegExp.prototype.exec** 返回数组
* RegExp.prototype.test

## 参考资料

* [http://jansesun.github.io/thinkInJs/parseCookie.html](http://jansesun.github.io/thinkInJs/parseCookie.html)